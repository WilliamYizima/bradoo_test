{% extends "bootstrap/base.html" %}
{% block head %}
{{ super() }}
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
<link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
{% endblock %}
{% block title %}BRADOO_TEST{% endblock %}
{% block navbar %}
<div class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">HOME</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/">VENDOR</a></li>
                <li><a href="/">PRODUCTS</a></li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
{% block content %}
<div class="container">
    {% for message in get_flashed_messages() %}
<div class="alert alert-warning">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    {{ message }}
</div>
{% endfor %}
    {% block page_content %}{% endblock %}
</div>
<script>
    editSectionElement = document.querySelector("#editar");
    btnUpdate = document.querySelector("#btnUpdate")

    // Fields
    txtId = document.querySelector("#txtId");
    txtFirst = document.querySelector("#txtFirst");
    txtLast = document.querySelector("#txtLast");
    txtHandle = document.querySelector("#txtHandle");

    // Event Listener
    btnUpdate.addEventListener("click", (e, data) => {
        e.preventDefault();

        console.log("Atualizando no banco...")
        console.log("ID: ", txtId.value);
        console.log("First: ", txtFirst.value);
        console.log("Last: ", txtLast.value);
        console.log("Handle: ", txtHandle.value);
        console.log("Atualizou com sucesso....");

        editSectionElement.classList.remove("sec-show");
        txtId.value = ""
        txtFirst.value = ""
        txtLast.value = ""
        txtHandle.value = ""

    })

    function excluir(id){
        myElement = document.querySelector(`tr[data-id="${id}"]`)
        myElement.remove()
    }

    function editar(dataPeople){
        editSectionElement.classList.add("sec-show");
        txtId.value = dataPeople.id
        txtFirst.value = dataPeople.First
        txtLast.value = dataPeople.Last
        txtHandle.value = dataPeople.Handle
    }
</script>

<style>
    .sec-invisible {
      opacity: 0;
      transition: all .6s ease;
    }
  
    .sec-show {
      opacity: 1 !important;
    }
  </style>
{% endblock %}

