{% extends "bootstrap/base.html" %}
{% block head %}
{{ super() }}
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
<link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
<style>
.tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
  }
  
  /* Style the buttons that are used to open the tab content */
  .tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
  }
  
  /* Change background color of buttons on hover */
  .tab button:hover {
    background-color: #ddd;
  }
  
  /* Create an active/current tablink class */
  .tab button.active {
    background-color: #ccc;
  }
  
  /* Style the tab content */
  .tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
  }
</style>
{% endblock %}
{% block title %}BRADOO_TEST{% endblock %}
{% block navbar %}
<div class="navbar navbar-inverse" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">HOME</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/">VENDOR</a></li>
                <li><a href="/">PRODUCTS</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="tab">
    <button class="tablinks" onclick="openCity(event, 'London')">London</button>
    <button class="tablinks" onclick="openCity(event, 'Paris')">Paris</button>
    <button class="tablinks" onclick="openCity(event, 'Tokyo')">Tokyo</button>
  </div>
  
  <!-- Tab content -->
  <div id="London" class="tabcontent">
    <h3>London</h3>
    <p>London is the capital city of England.</p>
  </div>
  
  <div id="Paris" class="tabcontent">
    <h3>Paris</h3>
    <p>Paris is the capital of France.</p>
  </div>
  
  <div id="Tokyo" class="tabcontent">
    <h3>Tokyo</h3>
    <p>Tokyo is the capital of Japan.</p>
  </div>

{% endblock %}
{% block content %}
<div class="container">
    {% for message in get_flashed_messages() %}
<div class="alert alert-warning">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    {{ message }}
</div>
{% endfor %}
    {% block page_content %}{% endblock %}
</div>
<script>
    editSectionElement = document.querySelector("#editar");
    btnUpdate = document.querySelector("#btnUpdate")

    // Fields
    txtId = document.querySelector("#txtId");
    txtFirst = document.querySelector("#txtFirst");
    txtLast = document.querySelector("#txtLast");
    txtHandle = document.querySelector("#txtHandle");

    // Event Listener
    btnUpdate.addEventListener("click", (e, data) => {
        e.preventDefault();

        console.log("Atualizando no banco...")
        console.log("ID: ", txtId.value);
        console.log("First: ", txtFirst.value);
        console.log("Last: ", txtLast.value);
        console.log("Handle: ", txtHandle.value);
        console.log("Atualizou com sucesso....");

        editSectionElement.classList.remove("sec-show");
        txtId.value = ""
        txtFirst.value = ""
        txtLast.value = ""
        txtHandle.value = ""

    })

    function excluir(id){
        myElement = document.querySelector(`tr[data-id="${id}"]`)
        myElement.remove()
    }

    function editar(dataPeople){
        editSectionElement.classList.add("sec-show");
        txtId.value = dataPeople.id
        txtFirst.value = dataPeople.First
        txtLast.value = dataPeople.Last
        txtHandle.value = dataPeople.Handle
    }
    function openCity(evt, cityName) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
</script>

<style>
    .sec-invisible {
      opacity: 0;
      transition: all .6s ease;
    }
  
    .sec-show {
      opacity: 1 !important;
    }
  </style>
{% endblock %}

